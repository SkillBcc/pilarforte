
<!-- Navigation -->
<nav class="fixed w-full z-50 nav-container transition-all duration-300 ease-in-out" 
     [class.shadow-lg]="isScrolled()"
     [class.bg-opacity-95]="!isScrolled()"
     [class.bg-opacity-100]="isScrolled()"
     [style.background-color]="isScrolled() ? '#1C1C1C' : 'rgba(28, 28, 28, 0.95)'">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between transition-all duration-300 ease-in-out" 
         [class.h-24]="!isScrolled()" 
         [class.h-16]="isScrolled()">
      
      <!-- Logo Area -->
      <a routerLink="/" class="flex-shrink-0 flex items-center gap-4 cursor-pointer group">
        <div class="relative flex items-center justify-center logo-box transition-all duration-300 ease-in-out group-hover:rotate-0"
             [class.w-14]="!isScrolled()"
             [class.h-14]="!isScrolled()"
             [class.w-10]="isScrolled()"
             [class.h-10]="isScrolled()">
          <!-- Classical Column Logo SVG -->
          <svg class="w-full h-full" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
            <!-- Outer Ring (White via currentColor) -->
            <circle cx="100" cy="100" r="95" stroke="currentColor" stroke-width="3"/>
            <circle cx="100" cy="100" r="86" stroke="currentColor" stroke-width="1"/>
            
            <!-- Architectural Grid Lines (GOLD) -->
            <g stroke="#B89E68" stroke-width="1.5">
              <line x1="40" y1="100" x2="160" y2="100" opacity="0.8"/>
              <line x1="100" y1="40" x2="100" y2="160" opacity="0.8"/>
              <rect x="60" y="60" width="80" height="80" stroke-width="1" opacity="0.5" fill="none"/>
              <!-- Connection Dots -->
              <circle cx="60" cy="60" r="3" fill="#B89E68"/>
              <circle cx="140" cy="60" r="3" fill="#B89E68"/>
              <circle cx="60" cy="140" r="3" fill="#B89E68"/>
              <circle cx="140" cy="140" r="3" fill="#B89E68"/>
            </g>

            <!-- Column Structure (White via currentColor) -->
            <g transform="translate(70, 45)">
              <!-- Capital -->
              <path d="M0 10 H60 V25 C60 35 45 35 45 25 H15 C15 35 0 35 0 25 V10 Z" fill="currentColor"/>
              <rect x="-5" y="0" width="70" height="10" fill="currentColor"/>
              
              <!-- Volute Accents (GOLD) -->
              <path d="M10 20 Q 5 20 5 25" stroke="#B89E68" stroke-width="3" fill="none"/> 
              <path d="M50 20 Q 55 20 55 25" stroke="#B89E68" stroke-width="3" fill="none"/>
              
              <!-- Shaft -->
              <rect x="10" y="30" width="40" height="90" fill="currentColor"/>
              
              <!-- Fluting (GOLD) -->
              <rect x="18" y="30" width="4" height="90" fill="#B89E68"/>
              <rect x="28" y="30" width="4" height="90" fill="#B89E68"/>
              <rect x="38" y="30" width="4" height="90" fill="#B89E68"/>
              
              <!-- Base -->
              <rect x="0" y="120" width="60" height="10" fill="currentColor"/>
            </g>
          </svg>
        </div>
        <div class="flex flex-col logo-text transition-all duration-300 origin-left" [class.scale-90]="isScrolled()">
          <span class="text-2xl font-bold text-white brand-name tracking-widest leading-none">PILAR FORTE</span>
          <div class="flex items-center gap-2 mt-1 transition-opacity duration-300" [class.opacity-0]="isScrolled()" [class.h-0]="isScrolled()">
            <div class="h-[1px] w-8 bg-pilar-gold"></div>
            <span class="text-[9px] uppercase font-bold text-gray-300 tracking-[0.15em] leading-none">Engenharia & Construção</span>
          </div>
        </div>
      </a>

      <!-- Desktop Menu -->
      <div class="hidden md:block">
        <div class="ml-10 flex items-baseline space-x-8">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">INÍCIO</a>
          <a routerLink="/empresa" routerLinkActive="active" class="nav-link">A EMPRESA</a>
          <a routerLink="/servicos" routerLinkActive="active" class="nav-link">SERVIÇOS</a>
          <a routerLink="/portfolio" routerLinkActive="active" class="nav-link">PORTFÓLIO</a>
          <a routerLink="/contactos" routerLinkActive="active" class="btn-contact rounded-sm text-sm">CONTACTOS</a>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <div class="-mr-2 flex md:hidden">
        <button (click)="toggleMenu()" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none">
          <span class="sr-only">Abrir menu</span>
          <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu Panel -->
  @if (mobileMenuOpen()) {
    <div class="md:hidden mobile-menu">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
        <a routerLink="/" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">INÍCIO</a>
        <a routerLink="/empresa" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">A EMPRESA</a>
        <a routerLink="/servicos" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">SERVIÇOS</a>
        <a routerLink="/portfolio" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">PORTFÓLIO</a>
        <a routerLink="/contactos" (click)="closeMenu()" class="highlight block px-3 py-2 rounded-md text-base font-medium">CONTACTOS</a>
      </div>
    </div>
  }
</nav>

<!-- Main Content Area -->
<main class="min-h-screen">
  <router-outlet></router-outlet>
</main>

<!-- Footer -->
<footer class="footer-base py-12 text-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6">
    <div class="text-center md:text-left">
      <span class="text-lg font-bold brand">PILAR FORTE</span>
      <p class="mt-1">&copy; {{ currentYear }} Pilar Forte Engenharia & Construção. Todos os direitos reservados.</p>
    </div>
    <div class="flex space-x-6">
      <a href="#" class="transition-colors">Política de Privacidade</a>
      <a href="#" class="transition-colors">Termos e Condições</a>
      <a href="#" class="transition-colors">Livro de Reclamações</a>
    </div>
  </div>
</footer>
