
<!-- Navigation -->
<nav class="fixed w-full z-50 nav-container transition-all duration-300 ease-in-out" 
     [class.shadow-lg]="isScrolled()"
     [class.bg-opacity-95]="!isScrolled()"
     [class.bg-opacity-100]="isScrolled()"
     [style.background-color]="isScrolled() ? '#1C1C1C' : 'rgba(28, 28, 28, 0.95)'">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between transition-all duration-300 ease-in-out" 
         [class.h-24]="!isScrolled()" 
         [class.h-16]="isScrolled()">
      
      <!-- Logo Area -->
      <a routerLink="/" class="flex-shrink-0 flex items-center gap-4 cursor-pointer group">
        <!-- Icon Container -->
        <div class="relative flex items-center justify-center logo-box transition-all duration-300 ease-in-out"
             [class.w-20]="!isScrolled()"
             [class.h-20]="!isScrolled()"
             [class.w-14]="isScrolled()"
             [class.h-14]="isScrolled()">
          
          <img src="assets/images/logo-full.svg" alt="Pilar Forte Logo" class="w-full h-full drop-shadow-md">
        </div>

        <!-- Typography (Right Side) -->
        <div class="flex flex-col justify-center transition-all duration-300 origin-left" [class.scale-90]="isScrolled()">
          <span class="text-2xl font-serif font-bold text-white tracking-widest leading-none drop-shadow-sm">PILAR FORTE</span>
          <div class="flex items-center gap-2 mt-1 transition-opacity duration-300" 
               [class.opacity-0]="isScrolled()" 
               [class.h-0]="isScrolled()"
               [class.overflow-hidden]="isScrolled()">
            <div class="h-[1px] w-6 bg-pilar-gold"></div>
            <span class="text-[10px] uppercase font-bold text-gray-300 tracking-[0.2em] leading-none">Engenharia & Construção</span>
          </div>
        </div>
      </a>

      <!-- Desktop Menu -->
      <div class="hidden md:block">
        <div class="ml-10 flex items-baseline space-x-8">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">INÍCIO</a>
          <a routerLink="/empresa" routerLinkActive="active" class="nav-link">A EMPRESA</a>
          <a routerLink="/servicos" routerLinkActive="active" class="nav-link">SERVIÇOS</a>
          <a routerLink="/portfolio" routerLinkActive="active" class="nav-link">PORTFÓLIO</a>
          <a routerLink="/contactos" routerLinkActive="active" class="btn-contact rounded-sm text-sm">CONTACTOS</a>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <div class="-mr-2 flex md:hidden">
        <button (click)="toggleMenu()" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none">
          <span class="sr-only">Abrir menu</span>
          <img src="assets/images/icon-menu.svg" alt="Menu" class="h-6 w-6">
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu Panel -->
  @if (mobileMenuOpen()) {
    <div class="md:hidden mobile-menu">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
        <a routerLink="/" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">INÍCIO</a>
        <a routerLink="/empresa" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">A EMPRESA</a>
        <a routerLink="/servicos" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">SERVIÇOS</a>
        <a routerLink="/portfolio" (click)="closeMenu()" class="block px-3 py-2 rounded-md text-base font-medium">PORTFÓLIO</a>
        <a routerLink="/contactos" (click)="closeMenu()" class="highlight block px-3 py-2 rounded-md text-base font-medium">CONTACTOS</a>
      </div>
    </div>
  }
</nav>

<!-- Main Content Area -->
<main class="min-h-screen">
  <router-outlet></router-outlet>
</main>

<!-- Footer -->
<footer class="footer-base py-12 text-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6">
    <div class="text-center md:text-left">
      <span class="text-lg font-bold brand">PILAR FORTE</span>
      <p class="mt-1">&copy; {{ currentYear }} Pilar Forte Engenharia & Construção. Todos os direitos reservados.</p>
    </div>
    <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6 text-center md:text-left">
      <a routerLink="/politica-privacidade" class="transition-colors hover:text-[#B89E68]">Política de Privacidade</a>
      <a routerLink="/termos-condicoes" class="transition-colors hover:text-[#B89E68]">Termos e Condições</a>
      <a routerLink="/livro-reclamacoes" class="transition-colors hover:text-[#B89E68]">Livro de Reclamações</a>
    </div>
  </div>
</footer>